sudo: false
dist: trusty
language: java
jdk:
- oraclejdk8
os:
- linux
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- "./gradlew build"
- cd $TRAVIS_BUILD_DIR
- chmod +x ./deploy.sh
deploy:
- provider: script
  script: "./deploy.sh"
  skip_cleanup: true
  on:
    branch: master
- provider: pages
  skip-cleanup: true
  github-token: "$GITHUB_API_TOKEN"
  keep-history: true
  local-dir: "./build/docs/javadoc/"
  on:
    tags: true
env:
  global:
    secure: FzSOq+eSH50Z2J6WeQhdWaQGnmJQXkzaWYxS2PAUaiIBcL3Iy16r7ROTIujmpCc5ndIE6mANTRUC2brhFDq5G4eIf4tFsQHnA6ya40bTNJyAyLnhWFq4SGUGiXALHyDtehJExsxRrJ8XEU4VSz+znkMv03MUj9klsFFFDIoj07NW7rwg084C8Hn1f1S4PKlSd5Jtu5cZ/Lcz0DDnzLv8Y4tl9rudX1xyYjWC5oQ4AFcFItTkUgwoeS+y7ialkfys1tHrEOUrto/759hd3CFzERhdcZ99mV2mJYR9JcpMsHcx/aKIZKZeXm3+WaxyUTBNb94/MnE+fZnfZtKCD3llFZRSvMtwVuspYIhT2H1r2ZEnkwuP7iLOJfSFh7nds26ZxJuoRRhbnucvsGvIm0zk8Ley6l+pTfjDNKKAmgKS9D9GZ1WSF/4qXcux7NTRnLAkT3xHXEC8qY0X4fDO3Uj+39D+GVNCzVytg/dVUtOQTLU2EmyywfwKXHPnO658+yH5zR19iWZ80W2N6VUzGZBSCRa4bBz+t7h9swiooxyxOxELzvrfXwnF2N5XTQgemuIohnw4qxCzQQHkBCR7VrvMLyNB4VmyOQ8qOgzI5sp0nHXkWLU68z2+YdTYDpqUhi+UEGOgxQpM8Nua6GOuLI0IfKRX2UUM9pxgTa//cjrN8C0=
